<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>è¯ä¹¦éªŒè¯ä¸­å¿ƒ</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 40px; }
        .valid { color: green; }
        .invalid { color: red; }
        .result { font-size: 1.5em; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>ğŸ—ƒï¸ å¼€å‘è€…è´¡çŒ®è¯ä¹¦éªŒè¯ç³»ç»Ÿ</h1>
    <p>è¯·è¾“å…¥è¯ä¹¦ä¸Šçš„å“ˆå¸Œç ï¼Œæˆ–ç›´æ¥æ‰«æè¯ä¹¦äºŒç»´ç è¿›è¡ŒéªŒè¯ã€‚</p>

    <div id="app">
        <input type="text" id="hashInput" placeholder="è¯·è¾“å…¥è¯ä¹¦å“ˆå¸Œç ..." style="width: 400px; padding: 10px;">
        <button onclick="checkHash()">éªŒè¯</button>
        <div id="result"></div>
    </div>

    <script>
        // ä»URLä¸­è·å–å“ˆå¸Œå‚æ•°ï¼ˆå¦‚æœç”¨æˆ·æ˜¯æ‰«æäºŒç»´ç è¿‡æ¥çš„ï¼‰
        const urlParams = new URLSearchParams(window.location.search);
        const hashFromUrl = urlParams.get('hash');
        if (hashFromUrl) {
            document.getElementById('hashInput').value = hashFromUrl;
            checkHash();
        }

        function checkHash() {
            const inputHash = document.getElementById('hashInput').value.trim();
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = "<p>æ­£åœ¨éªŒè¯...</p>";

            // é‡è¦ï¼šç›´æ¥é“¾æ¥åˆ°ä½ çš„ verification.json æ–‡ä»¶çš„RAWåœ°å€
            const verificationFileURL = 'https://raw.githubusercontent.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å/main/verification.json';

            fetch(verificationFileURL)
                .then(response => response.json())
                .then(data => {
                    // æ£€æŸ¥è¾“å…¥çš„å“ˆå¸Œæ˜¯å¦å­˜åœ¨äºJSONæ•°ç»„ä¸­
                    const found = data.find(entry => entry.hash === inputHash);

                    if (found) {
                        resultDiv.innerHTML = `
                            <div class="valid">
                                <h2>âœ… è¯ä¹¦æœ‰æ•ˆï¼</h2>
                                <p>æ­¤è¯ä¹¦é¢å‘ç»™ï¼š<strong>${found.github_username}</strong></p>
                                <p>è´¡çŒ®ç­‰çº§ï¼š<strong>${found.level}</strong></p>
                                <p>é¢å‘æ—¥æœŸï¼š<strong>${found.date_issued}</strong></p>
                            </div>
                        `;
                    } else {
                        resultDiv.innerHTML = `
                            <div class="invalid">
                                <h2>âŒ è¯ä¹¦æ— æ•ˆ</h2>
                                <p>æœªèƒ½æ‰¾åˆ°ä¸è¯¥å“ˆå¸Œå€¼åŒ¹é…çš„è¯ä¹¦è®°å½•ã€‚æ­¤è¯ä¹¦å¯èƒ½ä¸ºä¼ªé€ æˆ–æœªè¢«ç™»è®°ã€‚</p>
                            </div>
                        `;
                    }
                })
                .catch(error => {
                    resultDiv.innerHTML = `<p class="invalid">éªŒè¯è¿‡ç¨‹ä¸­å‡ºé”™ï¼Œè¯·ç¨åå†è¯•ã€‚</p>`;
                    console.error("Error:", error);
                });
        }
    </script>
</body>
</html>
